#ドメインモデルを導き出す

##機能リスト
* **10円玉**、**50円玉**、**100円玉**、**500円玉**、**1000円札**を１つずつ投入できる。
* **投入**は複数回できる。
* **投入金額**を取得できる。
* 払い戻し操作を行うと、投入金額を**釣り銭**として出力する。
* 想定外のもの（硬貨：**１円玉**、**５円玉**。お札：**千円札以外のお札**）が投入された場合は、投入金額に加算せず、それをそのまま釣り銭として**ユーザ**に出力する。
* 格納されている**ジュース**の情報（**値段**と**名前**と**在庫**）を取得できる。
* 投入金額、在庫の点で購入可能なドリンクのリストを取得できる。
* ジュース値段以上の投入金額が投入されている条件下で購入操作を行うと、ジュースの在庫を減らし、**売り上げ金額**を増やす。
* 投入金額が足りない場合もしくは在庫がない場合、購入操作を行っても何もしない。
* 現在の売上金額を取得できる。
* 払い戻し操作では現在の投入金額からジュース購入金額を引いた釣り銭を出力する。
* ジュース値段以上の投入金額が投入されている条件下で購入操作を行うと、釣り銭（投入金額とジュース値段の差分）を出力する。
* ジュースと投入金額が同じ場合、つまり、釣り銭0円の場合も、釣り銭0円と出力する。
* 釣り銭の硬貨の種類は考慮しなくてよい。
* 自動販売機は**釣り銭ストック**を持つ事ができる。
* 釣り銭ストックとして、有効な各お札と硬貨10枚ずつ保持する。
* 釣り銭を返す際は、値段の大きな物から硬貨を優先して出力するようにする。ストックからなくなった硬貨は、可能であれば他の硬貨で補う（例えば50円硬貨を10円硬貨で補う）
* 釣り銭には投入金額のお札および硬貨も使える(110円入れて、100円の水を買うといった場合のように余分に入れたお金も戻る)。
* 釣り銭を出力したら、釣り銭用ストックを減らす。
* 購入操作を行った際に、釣り銭用ストックが足りない場合、何もしない。
* 釣り銭用ストックを取得できる。
* 「ランダム」購入ボタンを押すと、コーラ、ダイエットコーラ、お茶がランダムに購入できる。
* 「ランダム」候補のドリンクの在庫が全てない時は通常のドリンクがない場合と同じ振る舞いをする。
* 「ランダム」は投入金額、在庫の点で購入可能なドリンクのリストに中に入る(つまり、120円入れて、コーラとお茶の在庫がある場合、「コーラ」と「お茶」と「ランダム」が購入可能なドリンクのリストになる)。
* 売上金額を釣銭に回すことができる
* ジュースの**賞味期限**（年月日）を1本単位で登録できる。
* 現在日時が購入対象のジュースの賞味期限を過ぎている場合、ジュースの購入ボタンを押しても何もしない。
* 格納されているジュースの賞味期限情報を取得できる


#ユースケース記述



##お金の投入
1. *利用者*は、*自動販売機*に、*お金*（10円玉、50円玉、100円玉、500円玉、1000円札）を１つずつ投入する。
* *利用者*は、*自動販売機*に、複数回*お金*を投入する。


##お金の確認
1. *利用者*は、*自動販売機*から、*投入金額の総計*を確認する。 


##払い戻し
1. *利用者*は、*自動販売機*に、払い戻し操作を行う。
* *自動販売機*は、現在の*投入金額*から*ジュース購入金額*を引いた*お金*を、釣り銭として出力する。
* *釣り銭*を出力したら、*釣り銭用ストック*を減らす。
* *自動販売機*は自身の*投入金額の総計*をゼロにリセットする。

##つり銭に使用するお金の種類を判断する
* *釣り銭*を返す際は、値段の大きな物から硬貨を優先して出力するようにする。*ストック*からなくなった硬貨は、可能であれば他の硬貨で補う（例えば50円硬貨を10円硬貨で補う）
* *釣り銭*には*投入金額*のお札および硬貨も使える(110円入れて、100円の水を買うといった場合のように余分に入れたお金も戻る)。

* 購入操作を行った際に、釣り銭用ストックが足りない場合、何もしない。
* 釣り銭用ストックを取得できる。

##ジュースの購入
* *利用者*は*自動販売機*に購入操作を行う。
* [ジュース値段以上の投入金額が投入されている場合]
	* *自動販売機*は、*ジュース*の在庫を減らし、*売り上げ金額*を増やす。
* [ジュース値段以上の投入金額が投入されていない場合 or 在庫がない場合]
	* *自動販売機*は、何もしない。


##扱えないお金の管理
1. *利用者*は、想定外（硬貨：１円玉、５円玉。お札：千円札以外のお札）の*お金*を投入する。
2. *自動販売機*は、投入された*お金*を、投入金額に加算せずにそのまま釣り銭としてユーザに出力する。

##ジュースの管理
1. *管理者*は、*自動販売機*に、*ジュース*を格納する。
* *利用者*は、*自動販売機*から、格納されているジュースの情報（値段と名前と在庫）を取得できる。

##ジュースの購入判断
* *自動販売機*は、*投入金額*・*在庫*・*釣り銭ストック*の残量から、指定されたジュースが購入できるかどうかを判断する。
* 購入可能ならば、*自動販売機*は購入可能と判断する


##売上金額の管理
* *管理者*は、*自動販売機*から、現在の*売上金額*を取得操作を行う。
* *自動販売機*は現在の*売上金額*を出力する。


===

#Memo
* ジュースを3種類管理できるようにする。
* 在庫にレッドブル（値段:200円、名前”レッドブル”）5本を追加する。
* 在庫に水（値段:100円、名前”水”）5本を追加する。
* 投入金額、在庫の点で購入可能なドリンクのリストを取得できる。

##釣り銭と売り上げ管理
* ジュース値段以上の投入金額が投入されている条件下で購入操作を行うと、釣り銭（投入金額とジュース値段の差分）を出力する。
* ジュースと投入金額が同じ場合、つまり、釣り銭0円の場合も、釣り銭0円と出力する。
* 釣り銭の硬貨の種類は考慮しなくてよい。

##釣り銭ストックの導入
* 自動販売機は釣り銭ストックを持つ事ができる。
* 釣り銭ストックとして、有効な各お札と硬貨10枚ずつ保持する。
* 釣り銭を返す際は、値段の大きな物から硬貨を優先して出力するようにする。ストックからなくなった硬貨は、可能であれば他の硬貨で補う（例えば50円硬貨を10円硬貨で補う）
* 釣り銭には投入金額のお札および硬貨も使える(110円入れて、100円の水を買うといった場合のように余分に入れたお金も戻る)。
* 釣り銭を出力したら、釣り銭用ストックを減らす。
* 購入操作を行った際に、釣り銭用ストックが足りない場合、何もしない。
* 釣り銭用ストックを取得できる。

##ジュースのランダム購入
* 在庫にダイエットコーラ（値段:120円、名前”ダイエットコーラ”）5本を追加する。
* 在庫にお茶（値段:120円、名前”お茶”）5本を追加する。
* 「ランダム」購入ボタンを導入する。
* 「ランダム」購入ボタンを押すと、コーラ、ダイエットコーラ、お茶がランダムに購入できる。
* 「ランダム」候補のドリンクの在庫が全てない時は通常のドリンクがない場合と同じ振る舞いをする。
* 「ランダム」は投入金額、在庫の点で購入可能なドリンクのリストに中に入る(つまり、120円入れて、コーラとお茶の在庫がある場合、「コーラ」と「お茶」と「ランダム」が購入可能なドリンクのリストになる)。

##釣銭の高機能化
* 売上金額を釣銭に回すことができる

##賞味期限管理
* ジュースの賞味期限（年月日）を1本単位で登録できる。
* 現在日時が購入対象のジュースの賞味期限を過ぎている場合、ジュースの購入ボタンを押しても何もしない。
格納されているジュースの賞味期限情報を取得できる
